<!doctype html>
<html lang="ko">
	<head>
		<meta charset="utf-8" />
		<link rel="icon" href="%sveltekit.assets%/logo.png" />
		<link rel="preload" href="/logo.png" as="image" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<title>나눔에셋 - Nanumpay</title>
		<style>
			/* 폰트 크기: 모바일 100%, PC 110% - 가장 먼저 적용 */
			html { font-size: 100%; }
			@media (min-width: 768px) { html { font-size: 110%; } }
			/* 텍스트 선택 방지 */
			body { user-select: none; -webkit-user-select: none; }
			/* 입력 필드는 선택 가능하게 */
			input, textarea { user-select: text; -webkit-user-select: text; }
		</style>
		%sveltekit.head%
		<script>
			// 전역 fetch 설정 - 모든 API 요청에 credentials 자동 포함
			// SSR/CSR 모두에서 쿠키가 제대로 전달되도록 보장
			(function() {
				if (typeof window !== 'undefined' && window.fetch) {
					const originalFetch = window.fetch;
					window.fetch = function(resource, init) {
						// /api/로 시작하는 모든 요청에 credentials 추가
						if (typeof resource === 'string' && resource.startsWith('/api/')) {
							init = init || {};
							// credentials가 명시되지 않았으면 'include'로 설정
							if (!init.credentials) {
								init.credentials = 'include';
							}
						}
						return originalFetch.call(this, resource, init);
					};
				}
			})();
		</script>
	</head>
	<body data-sveltekit-preload-data="hover">
		<div style="display: contents">%sveltekit.body%</div>
	</body>
</html>
