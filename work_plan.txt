apps/web의 에다 화면을 만들것임
docs/에 있는 이미지 파일 기준으로 페이지를 만들것.

시스템 운영 방안
  - 등급은 F1 ~ F8등급으로 구성
  - 등급별 용역비 비율 -> F1 : 24%, F2:19%, F3: 14%, F5: 5%, F6: 3% , F7: 2%, F8: 1%
  - 용역인원은 관리자아래 모두 2진트리형식으로 2개의 자식이 계층적으로 이뤄지는 구조(나의 산하정보.png 구조)
  - 모든 인원은 2개까지만 자식이 있을 수 있음
  - 등급 요건 : 
     F1: 나의 자식이 없거나 하나인 경우
     F2: 나의 자식이 왼쪽,오른쪽 모두 지정된 경우
     F3: 나의 아래 조직이 F2등급이 2개 존재하는 경우 && 나의 바로 밑 왼쪽 자식의 하위에 1개, 오른쪽 하위에 1개
     F4: 나의 아래 조직이 F3등급이 2개 존재하는 경우 && 나의 바로 밑 왼쪽 자식의 하위에 1개, 오른쪽 하위에 1개
     F5: 나의 아래 조직이 F4등급이 2개 존재하는 경우 && (나의 바로 밑 왼쪽 자식의 하위에 2개, 오른쪽 하위에 1개 또는 왼쪽 1개, 오른쪽 2개)
     F6: 나의 아래 조직이 F5등급이 2개 존재하는 경우 && (나의 바로 밑 왼쪽 자식의 하위에 2개, 오른쪽 하위에 1개 또는 왼쪽 1개, 오른쪽 2개)
     F7: 나의 아래 조직이 F6등급이 2개 존재하는 경우 && (나의 바로 밑 왼쪽 자식의 하위에 2개, 오른쪽 하위에 1개 또는 왼쪽 1개, 오른쪽 2개)
     F8: 나의 아래 조직이 F7등급이 2개 존재하는 경우 && (나의 바로 밑 왼쪽 자식의 하위에 2개, 오른쪽 하위에 1개 또는 왼쪽 1개, 오른쪽 2개)
  - 용역비는 1달간 총매출액 기준 10회를 분할해서 지급
  - 매출 총액은 해당월의 추가 인원별 10만원을 기준으로 100배 즉 1000만원으로 전체 추가 인원에대한 합산
  - 용역비 등급별 배분 정책
     F1 속한 인원: 총액기준 비율로 계산된 급액을 (F1 등급인원 + F2 등급인원) 으로 나눈 금액을 개인별 지급(10회 분할 지급)
     F2 속한 인원: 총액기준 비율로 계산된 급액을 (F2 등급인원 + F3 등급인원) 으로 나눈 금액 + F1에 속한 인원에대한 지급액(10회 분할 지급) 
     F3 속한 인원: 총액기준 비율로 계산된 급액을 (F3 등급인원 + F4 등급인원) 으로 나눈 금액+ F2에 속한 인원에대한 지급액(10회 분할 지급)
     F4 속한 인원: 총액기준 비율로 계산된 급액을 (F4 등급인원 + F5 등급인원) 으로 나눈 금액+ F3에 속한 인원에대한 지급액(10회 분할 지급)
     F5 속한 인원: 총액기준 비율로 계산된 급액을 (F5 등급인원 + F6 등급인원) 으로 나눈 금액+ F4에 속한 인원에대한 지급액(10회 분할 지급)
     F6 속한 인원: 총액기준 비율로 계산된 급액을 (F6 등급인원 + F7 등급인원) 으로 나눈 금액+ F5에 속한 인원에대한 지급액(10회 분할 지급)
     F7 속한 인원: 총액기준 비율로 계산된 급액을 (F7 등급인원 + F8 등급인원) 으로 나눈 금액+ F6에 속한 인원에대한 지급액(10회 분할 지급)
     F8 속한 인원: 총액기준 비율로 계산된 급액을 (F8 등급인원) 으로 나눈 금액 + F7에 속한 인원에대한 지급액 (10회 분할 지급)
  - 매출당월의 등급에 따라 다음달 부터 10회 연속지급, 당월에 승급이 되면 다음달부터 승급된 등급 기준으로 지급


관리자 페이지
  관리자 홈 
    - 총매출은 용역자가 신규 추가등록된 인원에 따른 자동 계산(현재는 1인당 10만원 * 10의 가격으로 측정)
    - 10회에 분할 지급되는 내역을 총매출 금액으로 자동 표시 (10회는 고정 분할 지급횟수, 차후 변경가능, 보통 고정)
    - 등급별 기본 분할 비율에 따른 기본 금액 표시
    - 해당 등급 인원 자동 산출 표시   
     
  용역비지급명부
    - 인원별 금주에 해당하는 지급 총액 표시, 개인별 총액, 전체 총액    

  용역자관리명부 : 
    - 용역자명단.xlsx형식의 데이터를 엑셀 또는 한사람으로 등록 가능,, 기존의 정보에 추가 
    - 판매인이 계층도에서 부모의 관계를 나타냄, 한 인원이 2개의 자식노드를 갖게되면 알림 발생해서 확인을 필요로함.
    - 사용자 계정은 이 페이지에서 등록, ID는 한글이름 그대로 중복되면 A,B,C처럼 알파벳을 뒤에 추가, 암호는전화번호 끝 내자리로 자동 생성
  영역자 산하정보:나의 산하정보와 비슷하지만 전체를 볼수 있음(특정사용자 기준으로 볼수도 있음)

사용자 페이지
  사용자 홈 : 등록된정보를 표출, 편집 저장 가능
  내용역비정보 : 
  나의 산하정보



테이블의 칼럼은 설정기능을 넣어서. 설정을 통해 보이고자하는 칼럼을 선택하게 할 수있게 하자..
핸드폰에서 본다면 세로로 길고 가로 좁게 나오면 테이블 레이아웃은 어느 정도 유지 되면서 가로     
스크롤로 테이블 좌우로 이동, 좁게 보면 테이블 폭이  줄어 들면서 셀이  줄어들어 글자 보기가 좋지 않음
테마로 버튼등의 것들을 관리하게 한다.


2025 9 20 작업
0. 기 구현사항을 점검할것.(apps/web을 대상으로 작업함)
0. 기존 구현된 사항을 가능하면 유지할것 db구조(mongodb)
1. 용역비지급명부 페이지 작업을 해야 함.
2. 매출은 월단위로 총매출 계산
  - 매출 총액은 해당월의 추가 인원별 10만원을 기준으로 10배 즉 1000만원으로 전체 추가 인원에대한 합산
3. 등급의 계층관계의 조건에 의해 등급이 결정 -- 용역자 등록시 자동 계산되어 등록도록 구현되었음.
4. 용역비 지급은 다음달부터 주단위로 10회 나눠서 지급
5. 매달 같은 방법으로 지급
6. 등급별 배분 정책 (누적식)
  - F1: (총매출 × 24%) ÷ (F1인원 + F2인원)
  - F2: (총매출 × 19%) ÷ (F2인원 + F3인원) + F1 지급액
  - F3: (총매출 × 14%) ÷ (F3인원 + F4인원) + F2 지급액
  - F4: (총매출 × 9%) ÷ (F4인원 + F5인원) + F3 지급액
  - F5: (총매출 × 5%) ÷ (F5인원 + F6인원) + F4 지급액
  - F6: (총매출 × 3%) ÷ (F6인원 + F7인원) + F5 지급액
  - F7: (총매출 × 2%) ÷ (F7인원 + F8인원) + F6 지급액
  - F8: (총매출 × 1%) ÷ F8인원 + F7 지급액
7. 매달 총액 정보 db에 유지
8. 총 용역인에대한 등급별 배분정책에 의해 지급된 내역 db 유지
  - 월별 회차 지급에따른 주간 수령 회차 및 금액 기록, 월별 회수 지급에 따른 주간 수령 합 금액및 계산 내용 기록
9. 용역비지급명부 페이지 표시해야 할 사항
  - 개인별 금주 수령액 내역,
    테이블 구조  : 순번	성명	은행	계좌번호	지급액	원천징수(3.3%)	실지급액
    "지급액	원천징수(3.3%)	실지급액"는 주간을 선택하면 선택된 주간의 내용만 표시, 기간을 선택하면 그 기간 해당 되는 주간단위로 3개 항목을 구분하여 반복 표시(colspan)
  - "지급액	원천징수(3.3%)	실지급액" 의 표시 항목을 주간/월간으로 선택하면 주간은 주간으로 월간은 월간으로 표시
  - 페이지는 모든 사용자에 대해 표시(수령액이 없으면 없이도 표시)
  - 페이지 네이선, 한페이제 몇 개보기
  - 페이지가 기간을 길게 하면 가로로 길어지니 가로 스크롤 처리..
10. 9월에 모든 F1등급이 추가된 걸으로 총액 계산을 하여 필요한 db를 생성하느 스크립틀 먼저 만들어 필요데이터가 생성되도록 할것
11. 페이지 내에 mockup 데이터 두지 말것.... 모든 데이터는 api를 통해 획득(개발중이라도)
12. 필요 api는 모두 test를 해서 원하는 결과형식이 응답됨을 확인
13. build를 통해 오류 사항을 수정할것
14. svelte5 로 작업할것.
15. pnmp yarn을 통해 개발 서버를 구동하여 로깅을 이용해서 서버의 동작을 확인할것
16. 페이지로그인해서 작업된 페이지를 미리 확인할것.

=== 2025-09-20 작업 완료 내역 ===

✅ 1. 기존 구현사항 점검 완료
  - MongoDB 구조 유지
  - 기존 User, Admin 모델 확인

✅ 2. Payment 모델 생성
  - MonthlyRevenue: 월별 총매출 관리
  - WeeklyPayment: 주별 지급내역 관리
  - 등급별 분포 및 지급액 계산 로직 포함

✅ 3. 용역비 계산 서비스 구현 (paymentService.js)
  - 월별 매출 계산 (신규 회원 × 1000만원)
  - 등급별 배분 정책 구현 (누적식)
  - 주별 지급액 계산 (10회 분할)
  - 원천징수 3.3% 적용

✅ 4. API 엔드포인트 구현
  - /api/admin/payment/revenue: 월별 매출 조회/생성
  - /api/admin/payment/weekly: 주별 지급내역 조회/생성

✅ 5. 용역비지급명부 페이지 개선
  - 목업 데이터 제거, API 연동 구현
  - 연도/월/주차 선택 기능
  - 주간/월간 조회 기간 선택
  - 원천징수 표시/숨기기 토글

✅ 6. 9월 테스트 데이터 생성 스크립트
  - scripts/generate-september-data.js 작성
  - npm run generate:september 명령 추가
  - F1 등급 사용자 기준 매출 및 지급 데이터 생성

✅ 7. 빌드 오류 수정
  - User 모델 export default 변경
  - connectDB 함수 추가
  - position const 선언 오류 수정
  - 빌드 성공 확인 (dist\nanumpay.exe 생성)

=== 2025-09-20 추가 작업 시작 ===

📌 작업 목표:
  - 용역비지급명부 페이지 기능 개선
  - 테이블 컬럼 설정 기능 추가 (사용자가 보고 싶은 컬럼 선택)
  - 모바일 반응형 개선 (가로 스크롤)
  - 페이지네이션 구현
  - 기간 선택 시 가로 스크롤 처리

⏳ 진행 예정:
  1. 테이블 컬럼 설정 기능 추가
  2. 모바일 반응형 테이블 레이아웃 개선
  3. 페이지네이션 및 페이지당 항목 수 선택
  4. 기간 범위 선택 시 가로 스크롤
  5. 개발 서버 테스트

✅ 완료 내역:
  1. 용역비지급명부 페이지 전면 개선
     - 테이블 컬럼 설정 기능 추가 (체크박스로 컬럼 표시/숨기기)
     - 설정값 localStorage에 저장하여 재방문시 유지
     - 등급 컬럼 추가 및 스타일링

  2. 모바일 반응형 대응
     - overflow-x-auto로 가로 스크롤 처리
     - whitespace-nowrap로 셀 내용 줄바꿈 방지
     - 모바일 뷰에서 테이블 구조 유지

  3. 페이지네이션 구현
     - 페이지당 10, 20, 30, 50, 100개 항목 선택 가능
     - 스마트 페이지 번호 표시 (현재 페이지 중심)
     - 모바일/데스크톱 별도 UI
     - 첫 페이지, 마지막 페이지 빠른 이동

  4. UI/UX 개선
     - Excel 내보내기 버튼 추가 (기능 구현 예정)
     - 컬럼 설정 토글 패널
     - 표시 항목 수 정보 추가 (전체 X건 중 Y-Z건 표시)
     - 호버 효과 추가 (hover:bg-gray-50)

  5. 개발 서버 테스트
     - pnpm dev 정상 실행 확인
     - http://localhost:3000 접속 가능

  6. 가상 데이터 생성 스크립트 구현
     - generate-mock-data.js 작성
     - 계층적 트리 구조 사용자 생성 (5개 트리, 총 62명)
     - 다양한 등급 자동 계산 (F1~F6)
     - 9월, 10월 지급 데이터 생성
     - 한국식 이름, 은행, 계좌번호 랜덤 생성

✅ 테스트 계정:
  - admin / admin123 (관리자)
  - root1 / 4201 (F6 등급)
  - root2 / (phone 뒷자리)
  - 기타 생성된 계정들

✅ 생성된 데이터:
  - 62명 사용자 (F1: 50명, F2: 6명, F3: 2명, F4: 2명, F6: 2명)
  - 9월 총매출: 620,000,000원
  - 주간 지급액: 46,787,840원 (10회 분할)
  - 개인별 지급 내역 표시 가능

  7. 용역비지급명부 화면 재구현 (화면구성.xlsx 기준)
     - 엑셀 이미지 디자인 그대로 구현
     - 심플한 테이블 구조 (검은색 테두리)
     - 날짜 선택 가능 (상단 헤더에 date picker)
     - 금액 셀 노란색 배경 (#ffffcc)
     - 고정 10행 표시 (데이터 없어도 빈 행 표시)
     - 인쇄 최적화 스타일 추가



  등급 규칙 (하부 구조 포함):
  - F1: 자식이 0개 또는 1개
  - F2: 자식이 2개
  - F3: 하부에 F2가 좌우 각 1개씩
  - F4: 하부에 F3가 좌우 각 1개씩
  - F5: 하부에 F4가 좌2:우1 또는 좌1:우2
  - F6: 하부에 F5가 좌2:우1 또는 좌1:우2
  - F7: 하부에 F6가 좌2:우1 또는 좌1:우2
  - F8: 하부에 F7가 좌2:우1 또는 좌1:우2
